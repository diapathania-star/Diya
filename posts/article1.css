:root{
  /* Calm TPS palette */
  --sand:#ecdae7;
  --paper:#f5f5f3;
  --sage:#7E8F7B;
  --charcoal:#2F2F2F;
  --forest:#2E3B32;
  --clay:#9D7C66;

  --radius:12px;
  --radius-lg:22px;
  --maxw:1080px;

  --shadow-s:0 1px 0 rgba(0,0,0,.03),0 8px 22px -16px rgba(0,0,0,.22);
  --shadow-m:0 1px 0 rgba(0,0,0,.03),0 18px 50px -28px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{
  margin:0;
  color:var(--charcoal);
  background:#fff;
  font-family:'Source Sans 3',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  line-height:1.65;
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}

.wrap{max-width:var(--maxw); margin:0 auto; padding:0 clamp(16px,3vw,24px)}
.wrap p, .wrap li{max-width:68ch}

/* Header */
.site{position:sticky; top:0; z-index:20; background:#fff; border-bottom:1px solid #EAE8E2}
.nav{display:flex; align-items:center; justify-content:space-between; gap:16px; padding:10px 0}
.brand{display:flex; align-items:center; gap:10px; text-decoration:none; color:var(--forest)}
.brand span{font-family:'Cormorant',serif; font-weight:700; font-size:18px; letter-spacing:.2px}
.nav a.link{color:var(--charcoal); text-decoration:none; padding:8px 10px; border-radius:10px}
.nav a.link:hover{background:#F2F0EC}

/* Reading progress */
.read-progress{position:fixed; left:0; top:0; height:3px; width:0%; background:var(--forest); z-index:999; opacity:.7}
@media (prefers-reduced-motion:reduce){ .read-progress{display:none} }

.logo-img{ width:32px; height:32px; border-radius:50%; object-fit:cover }

/* Layout */
.post-layout{ display:flex; gap:28px; margin-top:18px }
.post{ flex:1; min-width:0 }
.toc{
  width:260px; flex-shrink:0;
  background:linear-gradient(#fff, color-mix(in srgb, var(--paper) 70%, #ffffff 30%));
  border:1px solid #EAE8E2; border-radius:12px; padding:12px 14px; box-shadow:var(--shadow-s);
  height:fit-content; position:sticky; top:84px;
}
.toc button{
  width:100%; text-align:left; border:0; background:none; cursor:pointer;
  font-weight:700; color:var(--forest); font-family:'Cormorant',serif; margin-bottom:6px;
}
.toc ol{ margin:0; padding-left:1rem; display:block }
.toc a{ color:var(--forest); text-decoration:none }
.toc a:hover{ text-decoration:underline }

/* Mobile ToC collapsed by default */
@media (max-width:960px){
  .post-layout{ flex-direction:column }
  .toc{ width:100%; position:relative; top:auto }
  .toc ol{ display:none }
  .toc ol.show{ display:block }
}

/* Article scaffold */
.post-head{ margin-bottom:8px }
.post-title{
  font-family:'Cormorant',serif;
  font-size:clamp(30px,4.8vw,56px);
  line-height:1.05;
  color:var(--forest);
  margin:.2rem 0 .6rem;
}
.post-meta{
  display:flex; align-items:center; gap:8px; flex-wrap:wrap;
  font-size:14px; color:#4b4b4b; margin-bottom:12px;
}
.post-author{ width:28px; height:28px; border-radius:999px; object-fit:cover; border:1px solid #EAE8E2 }
.post-cover{ margin:16px 0 8px }
.post-cover img{ width:100%; height:auto; display:block; border-radius:14px; border:1px solid #EAE8E2; box-shadow:var(--shadow-s) }
.post-cover figcaption{ font-size:13px; color:#666; margin-top:6px }

/* Prose */
.prose h2{
  font-family:'Cormorant',serif; color:var(--forest);
  font-size:clamp(22px,2.8vw,28px); margin:2.2rem 0 .7rem;
  border-bottom:2px solid #eee; padding-bottom:.4rem;
}
.prose h4{ margin:.6em 0 .2em; color:var(--forest); font-weight:700 }
.prose p{ margin:.7em 0 }
.prose ul{ padding-left:1.1rem }
.prose li{ margin:.35em 0 }

/* Visual blocks */
.callout{
  background:#F5F2ED; border-left:4px solid var(--sage);
  padding:12px 14px; border-radius:12px; box-shadow:var(--shadow-s); margin:1rem 0;
}
.callout.soft{ background: color-mix(in srgb, var(--paper) 70%, #ffffff 30%); border-left-color: var(--clay) }

.illustration{ text-align:center; margin:1.2rem 0 }
.illustration img{ width:100%; height:auto; border:1px solid #EAE8E2; border-radius:14px; box-shadow:var(--shadow-s) }
.illustration figcaption{ font-size:13px; color:#666; margin-top:6px }

/* Checklists */
.checklist ul{ list-style:none; margin:0; padding:0 }
.checklist li{
  padding-left:28px; position:relative; margin:.45em 0;
}
.checklist li::before{
  content:"âœ“"; position:absolute; left:0; top:0; line-height:1.1;
  width:20px; height:20px; display:inline-grid; place-items:center;
  border-radius:999px; border:1px solid #D8D6D0; font-weight:700; font-size:12px;
  background:#fff; color:var(--forest);
}
.checklist.tight li{ margin:.32em 0 }

/* Grids */
.grid-3{ display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:12px; margin:12px 0 }
.grid-2{ display:grid; grid-template-columns:1.1fr .9fr; gap:12px; margin:12px 0 }
.card.note{ background:#fff; border:1px solid #EAE8E2; border-radius:12px; padding:12px; box-shadow:var(--shadow-s) }
@media (max-width:900px){ .grid-3, .grid-2{ grid-template-columns:1fr } }

/* Quote highlight */
blockquote.highlight{
  border-left:3px solid var(--clay);
  padding-left:12px;
  color:var(--forest);
  font-style:italic;
  margin:1.2rem 0;
  font-size:clamp(18px,2.2vw,22px);
}

/* Code box */
.codebox{
  background:#0f1114; color:#e6e6e6; border-radius:12px; border:1px solid #1f2329;
  padding:10px 12px; overflow:auto; box-shadow:var(--shadow-s); margin:1rem 0;
}
.codebox pre{ margin:0; font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size:13px; line-height:1.5 }

/* Divider */
.section-divider{ border:0; height:1px; background:#EAE8E2; margin:18px 0 }

/* Post footer */
.post-foot{ margin-top:16px }
.post-tags{ display:flex; gap:8px; flex-wrap:wrap; margin-bottom:8px }
.chip{ display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; background:#F2F0EC; color:#2e2e2e; font-weight:600; font-size:12px; text-decoration:none }
.post-nav{ display:flex; justify-content:space-between; gap:12px }
.post-nav a{ text-decoration:none; color:var(--forest) }
.post-nav a:hover{ text-decoration:underline }

/* Global footer */
.foot{margin-top:34px; padding:18px 0 34px; color:#555; border-top:1px solid #EAE8E2}
.footgrid--simple{display:grid; grid-template-columns:1fr auto; gap:16px; align-items:start}
.foot-right{text-align:right}
.foot .link{color:#4b4b4b; text-decoration:none}
@media (max-width:900px){
  .footgrid--simple{grid-template-columns:1fr}
  .foot-right{text-align:left}
}

/* Focus styles */
a.link:focus-visible, .post-nav a:focus-visible, .toc a:focus-visible {
  outline:2px solid var(--forest); outline-offset:2px;
}


.checklist ul li {
  list-style-type: disc !important; /* use normal bullets */
}

.checklist ul li::before {
  content: none !important; /* remove the checkmark */
}
